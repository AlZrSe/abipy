<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tools Package &#8212; abipy 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="waves Package" href="waves_api.html" />
    <link rel="prev" title="iotools Package" href="iotools_api.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/abipy_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tools Package</a></li>
<li><a class="reference internal" href="#module-abipy.tools"><code class="docutils literal"><span class="pre">tools</span></code> Module</a><ul>
<li><a class="reference internal" href="#module-abipy.tools.derivatives"><code class="docutils literal"><span class="pre">derivatives</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.devtools"><code class="docutils literal"><span class="pre">devtools</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.iotools"><code class="docutils literal"><span class="pre">iotools</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.notebooks"><code class="docutils literal"><span class="pre">notebooks</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.numtools"><code class="docutils literal"><span class="pre">numtools</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.plotting_utils"><code class="docutils literal"><span class="pre">plotting_utils</span></code> Module</a></li>
<li><a class="reference internal" href="#module-abipy.tools.text"><code class="docutils literal"><span class="pre">text</span></code> Module</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">API documentation</a><ul>
      <li>Previous: <a href="iotools_api.html" title="previous chapter">iotools Package</a></li>
      <li>Next: <a href="waves_api.html" title="next chapter">waves Package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/tools_api.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tools-package">
<h1>tools Package<a class="headerlink" href="#tools-package" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-abipy.tools">
<span id="tools-module"></span><h1><code class="xref py py-mod docutils literal"><span class="pre">tools</span></code> Module<a class="headerlink" href="#module-abipy.tools" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-abipy.tools.derivatives">
<span id="derivatives-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">derivatives</span></code> Module<a class="headerlink" href="#module-abipy.tools.derivatives" title="Permalink to this headline">¶</a></h2>
<p>Tools for computing derivatives by finite differences.</p>
<dl class="function">
<dt id="abipy.tools.derivatives.finite_diff">
<code class="descclassname">abipy.tools.derivatives.</code><code class="descname">finite_diff</code><span class="sig-paren">(</span><em>arr</em>, <em>h</em>, <em>order=1</em>, <em>acc=4</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/derivatives.html#finite_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.derivatives.finite_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the derivative of order <cite>order</cite> by finite difference.
For each point in arr, the function tries to use central differences
and fallbacks to forward/backward approximations for points that are close to the extrema.
Note that high accuracy levels can fail and raise <cite>ValueError</cite> if not enough points
are available in <cite>arr</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>arr</strong> &#8211; Input array with y-values.</li>
<li><strong>h</strong> &#8211; Spacing along x</li>
<li><strong>order</strong> &#8211; Derivative order</li>
<li><strong>acc</strong> &#8211; accuracy level.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">numpy array.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-abipy.tools.devtools">
<span id="devtools-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">devtools</span></code> Module<a class="headerlink" href="#module-abipy.tools.devtools" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="abipy.tools.devtools.HtmlDiff">
<em class="property">class </em><code class="descclassname">abipy.tools.devtools.</code><code class="descname">HtmlDiff</code><span class="sig-paren">(</span><em>filepaths</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/devtools.html#HtmlDiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.devtools.HtmlDiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This object produces diff files in HTML format and displays them in the browser.</p>
<p>Usage example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">HtmlDiff</span><span class="p">(</span><span class="n">filepaths</span><span class="p">)</span><span class="o">.</span><span class="n">open_browser</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="abipy.tools.devtools.HtmlDiff.difflib">
<code class="descname">difflib</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/devtools.html#HtmlDiff.difflib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.devtools.HtmlDiff.difflib" title="Permalink to this definition">¶</a></dt>
<dd><p>Use difflib to generate a HTML file with the diff.
Open file in the browser.</p>
</dd></dl>

<dl class="method">
<dt id="abipy.tools.devtools.HtmlDiff.open_browser">
<code class="descname">open_browser</code><span class="sig-paren">(</span><em>diffmode='difflib'</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/devtools.html#HtmlDiff.open_browser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.devtools.HtmlDiff.open_browser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.tools.devtools.HtmlDiff.pygmentize">
<code class="descname">pygmentize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/devtools.html#HtmlDiff.pygmentize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.devtools.HtmlDiff.pygmentize" title="Permalink to this definition">¶</a></dt>
<dd><p>Execut <cite>diff</cite> and <cite>pygmentize</cite> in a subprocess to generate a HTML file with the diff.
Open file in the browser.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="abipy.tools.devtools.profile">
<code class="descclassname">abipy.tools.devtools.</code><code class="descname">profile</code><span class="sig-paren">(</span><em>statement</em>, <em>global_vars</em>, <em>local_vars</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/devtools.html#profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.devtools.profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Run statement under profiler, supplying your own globals and locals</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">stats</span> <span class="o">=</span> <span class="n">profile</span><span class="p">(</span><span class="s2">&quot;main()&quot;</span><span class="p">,</span> <span class="n">global_vars</span><span class="o">=</span><span class="nb">globals</span><span class="p">(),</span> <span class="n">local_vars</span><span class="o">=</span><span class="nb">locals</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-abipy.tools.iotools">
<span id="iotools-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">iotools</span></code> Module<a class="headerlink" href="#module-abipy.tools.iotools" title="Permalink to this headline">¶</a></h2>
<p>IO related utilities.</p>
<dl class="class">
<dt id="abipy.tools.iotools.Editor">
<em class="property">class </em><code class="descclassname">abipy.tools.iotools.</code><code class="descname">Editor</code><span class="sig-paren">(</span><em>editor=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/iotools.html#Editor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.Editor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="abipy.tools.iotools.Editor.DEFAULT_EDITOR">
<code class="descname">DEFAULT_EDITOR</code><em class="property"> = 'vi'</em><a class="headerlink" href="#abipy.tools.iotools.Editor.DEFAULT_EDITOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="abipy.tools.iotools.Editor.Error">
<code class="descname">Error</code><a class="headerlink" href="#abipy.tools.iotools.Editor.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#abipy.tools.iotools.EditorError" title="abipy.tools.iotools.EditorError"><code class="xref py py-class docutils literal"><span class="pre">EditorError</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="abipy.tools.iotools.Editor.edit_file">
<code class="descname">edit_file</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/iotools.html#Editor.edit_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.Editor.edit_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="abipy.tools.iotools.Editor.edit_files">
<code class="descname">edit_files</code><span class="sig-paren">(</span><em>fnames</em>, <em>ask_for_exit=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/iotools.html#Editor.edit_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.Editor.edit_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="abipy.tools.iotools.EditorError">
<em class="property">exception </em><code class="descclassname">abipy.tools.iotools.</code><code class="descname">EditorError</code><a class="reference internal" href="../_modules/abipy/tools/iotools.html#EditorError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.EditorError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Exception</span></code></p>
<p>Base class for exceptions raised by <cite>Editor</cite></p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.iotools.ask_yes_no">
<code class="descclassname">abipy.tools.iotools.</code><code class="descname">ask_yes_no</code><span class="sig-paren">(</span><em>prompt</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/iotools.html#ask_yes_no"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.ask_yes_no" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask a question and return a boolean (y/n) answer.</p>
<p>If default is given (one of &#8216;y&#8217;,&#8217;n&#8217;), it is used if the user input is
empty. Otherwise the question is repeated until an answer is given.</p>
<p>An EOF is treated as the default answer.  If there is no default, an
exception is raised to prevent infinite loops.</p>
<p>Valid answers are: y/yes/n/no (match is not case sensitive).</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.iotools.input_from_editor">
<code class="descclassname">abipy.tools.iotools.</code><code class="descname">input_from_editor</code><span class="sig-paren">(</span><em>message=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/iotools.html#input_from_editor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.iotools.input_from_editor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-abipy.tools.notebooks">
<span id="notebooks-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">notebooks</span></code> Module<a class="headerlink" href="#module-abipy.tools.notebooks" title="Permalink to this headline">¶</a></h2>
<p>Tools for ipython notebooks.</p>
<dl class="function">
<dt id="abipy.tools.notebooks.ipw_listdir">
<code class="descclassname">abipy.tools.notebooks.</code><code class="descname">ipw_listdir</code><span class="sig-paren">(</span><em>top='.'</em>, <em>recurse=True</em>, <em>widget_type='dropdown'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/notebooks.html#ipw_listdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.notebooks.ipw_listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an ipython widget listing all the files located within the directory <cite>top</cite>
that can be inspected with <cite>abiopen</cite>. The user can select the file in the widget
and print info on the corresponding file inside the notebook.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>top</strong> &#8211; Initial directory.</li>
<li><strong>recurse</strong> &#8211; False to ignore directories within <cite>top</cite>.</li>
<li><strong>widget_type</strong> &#8211; Specify the widget to create. Possible values in:
[&#8220;tooglebuttons&#8221;, &#8220;dropdown&#8221;, &#8220;radiobuttons&#8221;]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.notebooks.print_source">
<code class="descclassname">abipy.tools.notebooks.</code><code class="descname">print_source</code><span class="sig-paren">(</span><em>function</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/notebooks.html#print_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.notebooks.print_source" title="Permalink to this definition">¶</a></dt>
<dd><p>For use inside an IPython notebook: given a function, print the source code.</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.notebooks.print_source_in_module">
<code class="descclassname">abipy.tools.notebooks.</code><code class="descname">print_source_in_module</code><span class="sig-paren">(</span><em>function</em>, <em>module</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/notebooks.html#print_source_in_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.notebooks.print_source_in_module" title="Permalink to this definition">¶</a></dt>
<dd><p>For use inside an IPython notebook: given a module and a function, print the source code.</p>
<p>Based on:</p>
<blockquote>
<div><a class="reference external" href="http://stackoverflow.com/questions/20665118/how-to-show-source-code-of-a-package-function-in-ipython-notebook">http://stackoverflow.com/questions/20665118/how-to-show-source-code-of-a-package-function-in-ipython-notebook</a></div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-abipy.tools.numtools">
<span id="numtools-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">numtools</span></code> Module<a class="headerlink" href="#module-abipy.tools.numtools" title="Permalink to this headline">¶</a></h2>
<p>Numeric tools.</p>
<dl class="class">
<dt id="abipy.tools.numtools.BlochRegularGridInterpolator">
<em class="property">class </em><code class="descclassname">abipy.tools.numtools.</code><code class="descname">BlochRegularGridInterpolator</code><span class="sig-paren">(</span><em>structure</em>, <em>datar</em>, <em>add_replicas=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#BlochRegularGridInterpolator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.BlochRegularGridInterpolator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>This object interpolates the periodic part of a Bloch state in real space.</p>
<dl class="method">
<dt id="abipy.tools.numtools.BlochRegularGridInterpolator.eval_line">
<code class="descname">eval_line</code><span class="sig-paren">(</span><em>point1</em>, <em>point2</em>, <em>num=200</em>, <em>cartesian=False</em>, <em>kpoint=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#BlochRegularGridInterpolator.eval_line"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.BlochRegularGridInterpolator.eval_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate values along a line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>point1</strong> &#8211; First point of the line. Accepts 3d vector or integer.
The vector is in reduced coordinates unless <cite>cartesian == True</cite>.
If integer, the first point of the line is given by the i-th site of the structure
e.g. <cite>point1=0, point2=1</cite> gives the line passing through the first two atoms.</li>
<li><strong>point2</strong> &#8211; Second point of the line. Same API as <cite>point1</cite>.</li>
<li><strong>num</strong> &#8211; Number of points sampled along the line.</li>
<li><strong>cartesian</strong> &#8211; By default, <cite>point1</cite> and <cite>point1</cite> are interpreted as points in fractional
coordinates (if not integers). Use True to pass points in cartesian coordinates.</li>
<li><strong>kpoint</strong> &#8211; k-point in reduced coordinates. If not None, the phase-factor e^{ikr} is included.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Return: named tuple with</dt>
<dd>site1, site2: None if the points do not represent atomic sites.
points: Points in fractional coords.
dist: the distance of points along the line in Ang.
values: numpy array of shape [ndt, num] with interpolated values.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="abipy.tools.numtools.BlochRegularGridInterpolator.eval_points">
<code class="descname">eval_points</code><span class="sig-paren">(</span><em>frac_coords</em>, <em>idt=None</em>, <em>cartesian=False</em>, <em>kpoint=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#BlochRegularGridInterpolator.eval_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.BlochRegularGridInterpolator.eval_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate values on an arbitrary list of points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frac_coords</strong> &#8211; List of points in reduced coordinates unless <cite>cartesian</cite>.</li>
<li><strong>idt</strong> &#8211; Index of the sub-array to interpolate. If None, all sub-arrays are interpolated.</li>
<li><strong>cartesian</strong> &#8211; True if points are in cartesian coordinates.</li>
<li><strong>kpoint</strong> &#8211; k-point in reduced coordinates. If not None, the phase-factor e^{ikr} is included.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">[ndt, npoints] array or [1, npoints] if idt is not None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.add_periodic_replicas">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">add_periodic_replicas</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#add_periodic_replicas"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.add_periodic_replicas" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new array of shape=(..., nx+1,ny+1,nz+1) with redundant data points.</p>
<p>Periodicity in enforced only on the last three dimensions.</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.alternate">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">alternate</code><span class="sig-paren">(</span><em>*iterables</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#alternate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.alternate" title="Permalink to this definition">¶</a></dt>
<dd><p>[a[0], b[0], ... , a[1], b[1], ..., a[n], b[n] ...]
&gt;&gt;&gt; alternate([1,4], [2,5], [3,6])
[1, 2, 3, 4, 5, 6]</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.find_convindex">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">find_convindex</code><span class="sig-paren">(</span><em>values</em>, <em>tol</em>, <em>min_numpts=1</em>, <em>mode='abs'</em>, <em>vinf=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#find_convindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.find_convindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of values and a tolerance tol, returns the leftmost index for which</p>
<blockquote>
<div>abs(value[i] - vinf) &lt; tol if mode == &#8220;abs&#8221;</div></blockquote>
<dl class="docutils">
<dt>or</dt>
<dd>abs(value[i] - vinf) / vinf &lt; tol if mode == &#8220;rel&#8221;</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tol</strong> &#8211; Tolerance</li>
<li><strong>min_numpts</strong> &#8211; Minimum number of points that must be converged.</li>
<li><strong>mode</strong> &#8211; &#8220;abs&#8221; for absolute convergence, &#8220;rel&#8221; for relative convergence.</li>
<li><strong>vinf</strong> &#8211; Used to specify an alternative value instead of values[-1].
By default, vinf = values[-1]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">-1 if convergence is not achieved else the index in values.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.gaussian">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">gaussian</code><span class="sig-paren">(</span><em>x</em>, <em>width</em>, <em>center=0.0</em>, <em>height=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#gaussian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.gaussian" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the values of gaussian(x) where x is array-like.</p>
<p>If height is None, a normalized gaussian is returned.</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.iflat">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">iflat</code><span class="sig-paren">(</span><em>iterables</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#iflat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.iflat" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over all elements of a nested iterable. It&#8217;s recursive!</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">iflat</span><span class="p">([[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]]))</span>
<span class="go">[0, 1, 2, 3, 4]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.prune_ord">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">prune_ord</code><span class="sig-paren">(</span><em>alist</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#prune_ord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.prune_ord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return new list where all duplicated items in alist are removed</p>
<ol class="arabic simple">
<li>The order of items in alist is preserved.</li>
<li>items in alist MUST be hashable.</li>
</ol>
<p>Taken from <a class="reference external" href="http://code.activestate.com/recipes/52560/">http://code.activestate.com/recipes/52560/</a>
&gt;&gt;&gt; prune_ord([1,1,2,3,3])
[1, 2, 3]</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.smooth">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">smooth</code><span class="sig-paren">(</span><em>x</em>, <em>window_len=11</em>, <em>window='hanning'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#smooth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.smooth" title="Permalink to this definition">¶</a></dt>
<dd><p>smooth the data using a window with requested size.</p>
<p>This method is based on the convolution of a scaled window with the signal.
The signal is prepared by introducing reflected copies of the signal
(with the window size) in both ends so that transient parts are minimized
in the begining and end part of the output signal.
Taken from <a class="reference external" href="http://www.scipy.org/Cookbook/SignalSmooth">http://www.scipy.org/Cookbook/SignalSmooth</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> &#8211; the input signal</li>
<li><strong>window_len</strong> &#8211; the dimension of the smoothing window. it should be an odd integer</li>
<li><strong>window</strong> &#8211; the type of window from &#8216;flat&#8217;, &#8216;hanning&#8217;, &#8216;hamming&#8217;, &#8216;bartlett&#8217;, &#8216;blackman&#8217;.
&#8216;flat&#8217; window will produce a moving average smoothing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the smoothed signal.</p>
</td>
</tr>
</tbody>
</table>
<p>example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">+</span><span class="n">randn</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">t</span><span class="p">))</span><span class="o">*</span><span class="mf">0.1</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">smooth</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>see also:</p>
<p>numpy.hanning, numpy.hamming, numpy.bartlett, numpy.blackman, numpy.convolve scipy.signal.lfilter</p>
<p>TODO: the window parameter could be the window itself if an array instead of a string</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.numtools.transpose_last3dims">
<code class="descclassname">abipy.tools.numtools.</code><code class="descname">transpose_last3dims</code><span class="sig-paren">(</span><em>arr</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/numtools.html#transpose_last3dims"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.numtools.transpose_last3dims" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the last three dimensions of arr: (...,x,y,z) &#8211;&gt; (...,z,y,x).</p>
</dd></dl>

</div>
<div class="section" id="module-abipy.tools.plotting_utils">
<span id="plotting-utils-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">plotting_utils</span></code> Module<a class="headerlink" href="#module-abipy.tools.plotting_utils" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-abipy.tools.text">
<span id="text-module"></span><h2><code class="xref py py-mod docutils literal"><span class="pre">text</span></code> Module<a class="headerlink" href="#module-abipy.tools.text" title="Permalink to this headline">¶</a></h2>
<p>Utilities for working with strings and text.</p>
<dl class="function">
<dt id="abipy.tools.text.nums_and_text">
<code class="descclassname">abipy.tools.text.</code><code class="descname">nums_and_text</code><span class="sig-paren">(</span><em>line</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/text.html#nums_and_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.text.nums_and_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Split line into (numbers, text).</p>
</dd></dl>

<dl class="function">
<dt id="abipy.tools.text.tonumber">
<code class="descclassname">abipy.tools.text.</code><code class="descname">tonumber</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/abipy/tools/text.html#tonumber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#abipy.tools.text.tonumber" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert string to number, raise ValueError if s cannot be converted.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2017, The AbiPy group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/api/tools_api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/abinit/abipy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>